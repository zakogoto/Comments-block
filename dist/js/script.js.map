{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/js/createComment.js","webpack:///./src/js/deleteComment.js","webpack:///./src/js/form.js","webpack:///./src/js/formatDate.js","webpack:///./src/js/likeComment.js","webpack:///./src/js/script.js","webpack:///./src/js/services/services.js"],"names":["Comment","container","commentsWrapper","document","getElementById","innerHTML","getResource","then","data","createComment","forEach","user","date","comment","id","element","createElement","classList","add","setAttribute","formatedDate","formatDate","slice","prepend","deleteComment","comments","querySelector","addEventListener","e","deleteBtn","target","closest","deleteData","remove","form","commentForm","message","loading","failure","clearForm","reset","bindPostData","post","key","shiftKey","preventDefault","statusMessage","src","style","cssText","insertAdjacentElement","formData","FormData","get","set","Date","toJSON","split","json","JSON","stringify","Object","fromEntries","entries","postData","catch","showError","finally","errorBody","textContent","setTimeout","d","parse","today","arr","getFullYear","getMonth","getDate","getHours","getMinutes","map","item","join","reverse","likeComment","likeBtn","toggle","window","url","res","fetch","method","headers","body","ok","Error","status"],"mappings":"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","file":"script.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/js/script.js\");\n","'use strict';\r\n\r\nimport { getResource } from \"./services/services\";\r\nimport formatDate from \"./formatDate\";\r\n\r\nfunction Comment(container) {\r\n\r\n    let commentsWrapper = document.getElementById(container);\r\n\r\n    commentsWrapper.innerHTML = '';\r\n\r\n    getResource('http://localhost:3000/requests')\r\n        .then(data => createComment(data));\r\n    \r\n    function createComment(data) {\r\n        // data.sort((a, b) => new Date(a.date) - new Date(b.date))\r\n        data.forEach(({user, date, comment, id}) => {\r\n            const element = document.createElement('div');\r\n\r\n            element.classList.add('comment');\r\n            element.setAttribute('id', id)\r\n\r\n            let formatedDate = formatDate(date);\r\n\r\n            element.innerHTML += `\r\n                <div class=\"author__trumbnail\">\r\n                    <span class=\"author__avatar\">${user.slice(0, 1)}</span>\r\n                </div>\r\n                <div class=\"comment__main\">\r\n                    <div class=\"comment__header\">\r\n                        <h3 class=\"comment__author\">${user}</h3>\r\n                        <h3 class=\"comment__publish-date\">${formatedDate}</h3>\r\n                        \r\n                    </div>\r\n                    <div class=\"comment__content\">${comment}</div>\r\n                    <div class=\"comment__btns\">\r\n                        <span>\r\n                            <svg class=\"comment__like\" width=\"21\" height=\"21\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"#8899a4\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\r\n                                <path d=\"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z\" />\r\n                            </svg>\r\n                        </span>\r\n                        <span>\r\n                            <svg class=\"comment__delete\" width=\"21px\" height=\"21px\" viewBox=\"0 0 24 24\" fill=\"none\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\r\n                                <path d=\"M10 10V16M14 10V16M18 6V18C18 19.1046 17.1046 20 16 20H8C6.89543 20 6 19.1046 6 18V6M4 6H20M15 6V5C15 3.89543 14.1046 3 13 3H11C9.89543 3 9 3.89543 9 5V6\"/>\r\n                            </svg>\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n            `;\r\n            commentsWrapper.prepend(element);\r\n        });\r\n    }\r\n}\r\n\r\nexport default Comment;","'use strict';\r\n\r\nimport { deleteData } from \"./services/services\";\r\n\r\nfunction deleteComment() {\r\n    let comments = document.querySelector('.comments');\r\n\r\n    comments.addEventListener('click', (e) => {\r\n        let deleteBtn = e.target.closest('.comment__delete');\r\n        \r\n        if (!deleteBtn) return;\r\n        let comment = deleteBtn.closest('.comment');\r\n\r\n        deleteData(`http://localhost:3000/requests/${comment.id}`);\r\n        comment.remove();\r\n\r\n    })\r\n}\r\n\r\nexport default deleteComment;","'use strict';\r\n\r\nimport { postData } from \"./services/services.js\";\r\nimport Comment from \"./createComment\";\r\n\r\nfunction form() {\r\n    \r\n    let commentForm = document.querySelector('#newCommentForm');\r\n    \r\n    \r\n    const message = {\r\n            loading: \"img/spinner.svg\",\r\n            failure: 'Что-то пошло не так'\r\n        };\r\n    function clearForm (data) {\r\n        data.reset();\r\n    }\r\n        \r\n    bindPostData(commentForm);\r\n\r\n    function bindPostData(form) {\r\n        form.addEventListener('submit', (e)=> post(e));\r\n\r\n        \r\n        document.querySelector('#textAreaComment').addEventListener('keydown', (e)=>{\r\n            if(e.key === 'Enter' && !e.shiftKey){\r\n                post(e);\r\n            }\r\n        });\r\n\r\n        function post(e) {\r\n            e.preventDefault();\r\n\r\n            const statusMessage = document.createElement('img');\r\n            statusMessage.src = message.loading;\r\n            statusMessage.style.cssText = `\r\n                display: block;\r\n                margin: 0 auto;\r\n            `;\r\n\r\n            form.insertAdjacentElement('afterbegin', statusMessage);\r\n            \r\n            const formData = new FormData(form);\r\n\r\n            if (formData.get('date') === '') {\r\n                formData.set('date', new Date().toJSON());\r\n            } else {\r\n                let date = formData.get('date').split('-');\r\n\r\n                formData.set('date', new Date(...date).toJSON())\r\n            }\r\n\r\n            const json = JSON.stringify(Object.fromEntries(formData.entries()));\r\n\r\n            postData('http://localhost:3000/requests', json)\r\n            .catch(()=> {\r\n                showError(message.failure);\r\n            })\r\n            .finally(()=>{\r\n                clearForm(form);\r\n                statusMessage.remove();\r\n                Comment('commentsBlock');\r\n            });\r\n\r\n            function showError(message) {\r\n                let errorBody = document.createElement('div');\r\n                errorBody.textContent = message;\r\n                errorBody.style.cssText = `\r\n                    font-size: 30px;\r\n                    color:#fea0a0;\r\n                    text-transform: uppercase;\r\n                `\r\n\r\n                form.insertAdjacentElement('afterbegin', errorBody);\r\n\r\n                setTimeout(()=> {\r\n                    errorBody.remove();\r\n\r\n                }, 2000)\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    document.querySelector('#cancel').addEventListener('click', (e)=> {\r\n        e.preventDefault();\r\n        clearForm(commentForm)\r\n        \r\n    });\r\n\r\n}\r\n\r\nexport default form;","function formatDate(date) {\r\n  let d = new Date(Date.parse(date));\r\n  let today = new Date();\r\n\r\n  let arr = [d.getFullYear(), d.getMonth(), d.getDate(), d.getHours(), d.getMinutes()].map(item => item < 10 ? '0' + item : item);\r\n\r\n  if(d.getDate() === today.getDate() ) {\r\n    return `Сегодня ${arr.slice(3).join(':')}`\r\n  }\r\n\r\n  if (today.getDate() - d.getDate() === 1) {\r\n\r\n    return `Вчера ${arr.slice(3).join(':')}`\r\n\r\n  } else {\r\n\r\n    return `${arr.slice(0, 3).reverse().join('.')}`\r\n  }\r\n}\r\n\r\nexport default formatDate;","function likeComment() {\r\n    let comments = document.querySelector('.comments');\r\n\r\n    comments.addEventListener('click', (e) => {\r\n        let likeBtn = e.target.closest('.comment__like');\r\n        \r\n        if (!likeBtn) return;\r\n        \r\n        likeBtn.classList.toggle('comment__like_active')\r\n\r\n\r\n    })\r\n}\r\n\r\nexport default likeComment;","'use strict';\r\n\r\nimport Comment from \"./createComment\";\r\nimport form from \"./form\";\r\nimport deleteComment from \"./deleteComment\";\r\nimport likeComment from \"./likeComment\";\r\n\r\nwindow.addEventListener('DOMContentLoaded', ()=> {\r\n    //validate form\r\n   \r\n    form();\r\n    Comment('commentsBlock');\r\n    deleteComment();\r\n    likeComment();\r\n\r\n    \r\n})","'use strict';\r\n\r\nconst postData = async (url, data) => {\r\n    const res = await fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-type': 'application/json'\r\n        },\r\n        body: data\r\n    });\r\n    if (!res.ok) {\r\n        throw new Error(`Could not fetch ${url}, status ${res.status}`);\r\n    }\r\n    return await res.json();\r\n};\r\n\r\nconst getResource = async (url) => {\r\n    const res = await fetch(url);\r\n    if (!res.ok) {\r\n        throw new Error(`Could not fetch ${url}, status ${res.status}`);\r\n    }\r\n    return await res.json();\r\n};\r\n\r\nconst deleteData = async(url) => {\r\n    const res = await fetch(url, {\r\n        method: 'DELETE',\r\n    })\r\n    if (!res.ok) {\r\n        throw new Error(`Could not fetch ${url}, status ${res.status}`);\r\n    }\r\n    return await res.json();\r\n}\r\n\r\nexport {postData};\r\nexport {getResource};\r\nexport {deleteData};"],"sourceRoot":""}